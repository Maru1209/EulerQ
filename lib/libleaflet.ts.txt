// lib/leaflet.ts
import L from "leaflet";
import "leaflet/dist/leaflet.css";

// Fix default icon paths (Next.js bundles differently than CDN)
const iconUrl =
  "data:image/svg+xml;base64,PHN2ZyB3aWR0aD0nMjUnIGhlaWdodD0nNDAnIHZpZXdCb3g9JzAgMCAyNSA0MCcgeG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJz48cGF0aCBmaWxsPSIjMjljMWQ1IiBkPSJNMTEuOTggMzguMTRjLS4xNy0uMjQtNS4xNS03LjQtNy41NS0xMS40MUE4LjY3IDguNjcgMCAwIDEgMy44NiAxMy41QzMuODYgNi41NyA5LjQzIDEgMTYuMDggMUMyMi43MyAxIDI4LjMgNi41NyAyOC4zIDEzLjVhOC42NyA4LjY3IDAgMCAxLS41NyAzLjIyYy0yLjQgNC03LjM4IDExLjE3LTcuNTUgMTEuNDFhMSAxIDAgMCAxLTEuNiAwWk0xNi4wOCAxOWEyLjg4IDIuODggMCAxIDAgMC01LjczIDIuODggMi44OCAwIDAgMCAwIDUuNzNaIi8+PC9zdmc+"; // tiny pin
const iconRetinaUrl = iconUrl;
const shadowUrl =
  "data:image/svg+xml;base64,PHN2ZyB3aWR0aD0nMzAnIGhlaWdodD0nMTInIHZpZXdCb3g9JzAgMCAzMCAxMicgeG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJz48ZWxsaXBzZSBjeD0nMTUnIGN5PSc2JyByeD0nMTUnIHJ5PSc2JyBmaWxsPSIjMDAwIiBvcGFjaXR5PSIuMTIiLz48L3N2Zz4=";

(L.Icon.Default as any).mergeOptions({
  iconUrl,
  iconRetinaUrl,
  shadowUrl,
});

export { L };
